
<!-- Partial intended to be overwritten with tags loaded at the end of the page loading (usually for Javascript) -->
<script>
$(document).ready(function() {
  // Get offset of initial code samples in main column
  let position_array = []
  let column = $('#code-column')[0];
  let top_header_columns = $('.second-column');
  let column_content = $('.right-column-content');
  let headers = $('h2');

  let code_samples = $('.tab-panel');

  $("#column-toggler").click(function() {
      if ($(column).is(':visible')) {
        $(column).html('').hide();
        
        $(top_header_columns).hide();

        $(column_content).removeClass('hide').addClass('show');
      } else {
        $(column_content).each(function() {
          $(column).append($(this).html());
          $(this).removeClass('show').addClass('hide');
        });

        $(top_header_columns).show();

        setTimeout(() => {
          let index = 0;
          if (!position_array.length) {
            for (item of headers) {
              position_array.push($(item).position().top);
            }
          }

          for (element of code_samples) {
            element.style = 
              'top: ' 
              + Math.round(position_array[index] + 60).toString()
              + 'px; position: absolute; width: 95%;';
              index++;
          }
        }, 75);
        $(column).show();
      }
    }
  )

  $(window).scroll(function () {
    if ($(this).scrollTop() >= 50) {
      $('.fixedbar, .wy-nav-side').addClass('scroll');
      $('.wy-top-menu-wrapper').fadeOut();
    } else {
      $('.fixedbar, .wy-nav-side').removeClass('scroll');
      $('.wy-top-menu-wrapper').fadeIn();
    }

    if ($(this).scrollTop() > 100) {
      $('#scroll').fadeIn();
    } else {
      $('#scroll').fadeOut();
    }

    let mybutton = document.getElementById("scroll");
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      mybutton ? mybutton.style.display = "block !important" : '';
    } else {
      mybutton ? mybutton.style.display = "none !important" : '';
    }
  });

  $('#scroll').click(function () {
    $("html, body").animate({ scrollTop: 0 }, 600);
    return false;
  });

});


function getElementTopPosition(element) {
  console.log($(element).position().top);
  return Math.round($(element).position().top).toString() + 'px';

}
</script>